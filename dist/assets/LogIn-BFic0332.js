import{d as C,u as E,r as n,o as L,c as N,a as s,b as c,e as f,w,f as o,R as $,g as v,h as P,t as b,i as g,j as U,v as R,k as A}from"./index-Cj4sq1c5.js";import{c as B,a as x,F as I,b as y,r as j,i as q,d as D,t as k}from"./index-D1th-kIG.js";import{r as F,a as M}from"./EyeIcon-ixNbmrs3.js";const _="/assets/login-BhvVfp89.png",z={class:"container mx-auto my-10 flex justify-center space-x-10",style:{height:"80vh"}},T={class:"shadow-2xl p-10 m-10 rounded rounded-3xl"},Y={class:"semi-title"},Z={class:"error-message"},J={class:"input flex items-center justify-between"},O={class:"error-message"},G={class:"flex items-center space-x-3 my-10 text-lg text-gray-500 font-semibold"},H=["disabled"],ee=C({__name:"LogIn",setup(K){const V=B({Email:x().required().email(),Password:x().required().min(8).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character")}),h=P(),i=E(),r=n(!1),d=n(!1),u=n(!1),m=n(""),p=n(""),S=async()=>{u.value=!0;const l={userName:m.value,password:p.value,userId:""};await q.post(D.login,l).then(e=>{const a=e.data;l.userId=a.data._id,i.loginUser(l),i.storeToken(a.data.token),r.value?i.sessionStore(l):i.sessionRemove(),k.success((a==null?void 0:a.message)??"User Login Success!"),h.push("/")}).catch(e=>{var a,t;k.error(((t=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:t.message)??"User Can't Login!")}).finally(()=>{u.value=!1})};return L(()=>{const l=sessionStorage.getItem("authCredentials");if(l){const e=JSON.parse(l);m.value=e.userName,p.value=e.password,r.value=!0}}),(l,e)=>(v(),N("div",z,[s("div",T,[e[11]||(e[11]=s("h2",{class:"main-title"},"Login",-1)),s("p",Y,[e[5]||(e[5]=f(" Doesn't have an account yet? ")),c(o($),{to:"/signup",class:"link"},{default:w(()=>e[4]||(e[4]=[f("Sign Up")])),_:1})]),c(o(I),{onSubmit:S,"validation-schema":o(V)},{default:w(({errors:a})=>[s("div",null,[e[6]||(e[6]=s("label",{for:"mail",class:"label"},"Email Address",-1)),c(o(y),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t),type:"email",name:"Email",id:"email",class:"input",placeholder:"Enter Your Email Address"},null,8,["modelValue"]),s("p",Z,b(a==null?void 0:a.Email),1)]),s("div",null,[e[7]||(e[7]=s("label",{for:"password",class:"label"},"Password",-1)),s("div",J,[c(o(y),{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),type:d.value?"text":"password",name:"Password",id:"password",class:"text-gray-900 placeholder:text-gray-400 focus:outline-none text-xl w-full",placeholder:"Enter Your Password"},null,8,["modelValue","type"]),s("div",{class:"pl-2",onClick:e[2]||(e[2]=t=>d.value=!d.value)},[d.value?(v(),g(o(F),{key:0,class:"password-icon"})):(v(),g(o(M),{key:1,class:"password-icon"}))])]),s("p",O,b(a==null?void 0:a.Password),1)]),s("div",G,[U(s("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.value=t),type:"checkbox",id:"remember",class:"w-6 h-6 cursor-pointer"},null,512),[[R,r.value]]),e[8]||(e[8]=s("label",{for:"remember"},"Remember Me",-1)),e[9]||(e[9]=s("br",null,null,-1))]),s("button",{type:"submit",class:"button",disabled:u.value},[e[10]||(e[10]=f(" Login ")),u.value?(v(),g(o(j),{key:0,class:"w-6 mx-3"})):A("",!0)],8,H)]),_:1},8,["validation-schema"])]),e[12]||(e[12]=s("img",{src:_,alt:"Login"},null,-1))]))}});export{ee as default};
